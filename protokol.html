<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Police Database | –°–∏—Å—Ç–µ–º–∞ —à—Ç—Ä–∞—Ñ—ñ–≤</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --police-blue: #1e40af;
            --accent: #3b82f6;
            --error: #ef4444;
            --success: #10b981;
        }

        body {
            font-family: 'Exo 2', sans-serif;
            background: linear-gradient(-45deg, #0f172a, #1e1b4b, #1e3a8a, #020617);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            padding: 20px;
            overflow-x: hidden;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            animation: slideUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1);
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        input, textarea {
            background: rgba(0, 0, 0, 0.2) !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
            color: white !important;
            transition: all 0.3s ease !important;
        }

        input:focus, textarea:focus {
            border-color: var(--accent) !important;
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.3) !important;
            outline: none;
        }

        input.invalid, textarea.invalid {
            border-color: var(--error) !important;
            box-shadow: 0 0 15px rgba(239, 68, 68, 0.3) !important;
            animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both;
        }

        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        .btn-submit {
            background: linear-gradient(90deg, #2563eb, #1d4ed8);
            transition: all 0.4s ease;
        }

        .btn-submit:hover:not(:disabled) {
            box-shadow: 0 0 25px rgba(37, 99, 235, 0.6);
            transform: scale(1.02);
        }

        #notification-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .toast {
            background: rgba(15, 23, 42, 0.9);
            backdrop-filter: blur(10px);
            border-left: 4px solid var(--accent);
            padding: 16px 24px;
            border-radius: 12px;
            color: white;
            margin-bottom: 10px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.4);
            display: flex;
            align-items: center;
            gap: 12px;
            animation: toastIn 0.5s ease forwards;
        }
        
        @keyframes toastIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .toast.error { border-left-color: var(--error); }
        .toast.success { border-left-color: var(--success); }

        .field-label {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 6px;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #94a3b8;
        }
    </style>
</head>
<body>

    <div id="notification-container"></div>

    <div class="glass-card w-full max-w-2xl p-8 md:p-12">
        <div class="text-center mb-10">
            <div class="inline-block p-4 rounded-full bg-blue-600/20 mb-4 border border-blue-500/30">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 text-blue-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="M12 8v4"/><path d="M12 16h.01"/></svg>
            </div>
            <h1 class="text-3xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-white to-blue-400">
                LSPD DATABASE
            </h1>
            <p class="text-blue-200/60 mt-1 uppercase text-xs tracking-[0.2em]">Internal use only</p>
        </div>

        <form id="fineForm" novalidate class="space-y-5">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                <div>
                    <label class="field-label">–û—Ñ—ñ—Ü–µ—Ä</label>
                    <input type="text" id="officerNick" placeholder="–ù—ñ–∫–Ω–µ–π–º" class="w-full px-4 py-3 rounded-xl">
                </div>
                <div>
                    <label class="field-label">Static ID</label>
                    <input type="text" id="officerId" placeholder="ID" class="w-full px-4 py-3 rounded-xl">
                </div>
            </div>

            <div>
                <label class="field-label">–ü–æ—Ä—É—à–Ω–∏–∫ (–ù—ñ–∫ + ID)</label>
                <input type="text" id="target" placeholder="Ivan Ivanov | 1234" class="w-full px-4 py-3 rounded-xl">
            </div>

            <div>
                <label class="field-label">–°—Ç–∞—Ç—Ç—è —Ç–∞ –æ–ø–∏—Å</label>
                <textarea id="reason" rows="2" placeholder="–û–ø–∏—Å –ø–æ—Ä—É—à–µ–Ω–Ω—è..." class="w-full px-4 py-3 rounded-xl resize-none"></textarea>
            </div>

            <div>
                <label class="field-label">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–∏–π –∑–∞—Å—ñ–±</label>
                <input type="text" id="vehicle" placeholder="–ú–∞—Ä–∫–∞ | –ù–æ–º–µ—Ä" class="w-full px-4 py-3 rounded-xl">
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                <div>
                    <label class="field-label">–î–∞—Ç–∞</label>
                    <input type="datetime-local" id="date" class="w-full px-4 py-3 rounded-xl">
                </div>
                <div>
                    <label class="field-label">–î–æ–∫–∞–∑–∏ (–ü–æ—Å–∏–ª–∞–Ω–Ω—è Imgur/Youtube/etc.)</label>
                    <input type="url" id="evidenceURL" placeholder="https://imgur.com/example" class="w-full px-4 py-3 rounded-xl">
                </div>
            </div>

            <button type="submit" id="submitBtn" class="btn-submit w-full py-4 rounded-xl text-lg font-bold uppercase tracking-widest mt-4">
                –ó–∞—Ñ—ñ–∫—Å—É–≤–∞—Ç–∏ —à—Ç—Ä–∞—Ñ
            </button>
        </form>
    </div>

    <script>
        // –í–ê–® WEBHOOK URL –í–°–¢–ê–í–õ–ï–ù–û –°–Æ–î–ò
        const DISCORD_WEBHOOK_URL = 'https://discord.com/api/webhooks/1449500175092420699/hHdzFW09-m0Il5CpU4quXy2yhYGblYs1Xjo0snwcCsiWf4hI-r8cJHJaavIECoiZk6hZ'; 

        function showNotification(message, type = 'error') {
            const container = document.getElementById('notification-container');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            const icon = type === 'error' ? '‚ö†Ô∏è' : '‚úÖ';
            toast.innerHTML = `<span>${icon}</span> <span>${message}</span>`;
            container.appendChild(toast);
            setTimeout(() => {
                toast.style.opacity = '0';
                toast.style.transform = 'translateX(100%)';
                toast.style.transition = 'all 0.5s ease';
                setTimeout(() => toast.remove(), 500);
            }, 4000);
        }

        const form = document.getElementById('fineForm');
        form.querySelectorAll('input, textarea').forEach(el => {
            el.addEventListener('input', () => el.classList.remove('invalid'));
        });

        form.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            let hasError = false;
            // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –≤—Å—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è, –≤–∫–ª—é—á–∞—é—á–∏ –Ω–æ–≤–µ (—Å—Ç–∞—Ä–µ) –ø–æ–ª–µ URL
            const requiredFields = ['officerNick', 'officerId', 'target', 'reason', 'vehicle', 'date', 'evidenceURL'];
            
            requiredFields.forEach(id => {
                const field = document.getElementById(id);
                if (!field.value.trim()) {
                    field.classList.add('invalid');
                    hasError = true;
                } else {
                    field.classList.remove('invalid');
                }
            });
            
            if (hasError) {
                showNotification('–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –æ–±–æ–≤\'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è!');
                return;
            }

            const btn = document.getElementById('submitBtn');
            btn.disabled = true;
            btn.innerText = '–í–Ü–î–ü–†–ê–í–ö–ê –î–ê–ù–ò–•...';

            // –ó–±—ñ—Ä –¥–∞–Ω–∏—Ö
            const data = {
                officer: document.getElementById('officerNick').value,
                oid: document.getElementById('officerId').value,
                target: document.getElementById('target').value,
                reason: document.getElementById('reason').value,
                vehicle: document.getElementById('vehicle').value,
                date: document.getElementById('date').value.replace('T', ' '),
                evidence: document.getElementById('evidenceURL').value // –ó–Ω–æ–≤—É URL
            };

            const embedPayload = {
                username: "LSPD DATABASE",
                embeds: [{
                    title: "üìë –ù–û–í–ò–ô –ü–†–û–¢–û–ö–û–õ –ó–ê–†–ï–Ñ–°–¢–†–û–í–ê–ù–û",
                    description: "–ù–æ–≤–∏–π –∑–∞–ø–∏—Å –ø—Ä–æ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–∏–≤–Ω–µ –ø–æ—Ä—É—à–µ–Ω–Ω—è –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—É.",
                    color: 3447003,
                    fields: [
                        { name: "üëÆ –û—Ñ—ñ—Ü–µ—Ä", value: `**${data.officer}** \nID: ${data.oid}`, inline: true },
                        { name: "üë§ –ü–æ—Ä—É—à–Ω–∏–∫", value: data.target, inline: true },
                        { name: "üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç", value: data.vehicle, inline: true },
                        { name: "üìù –ü—Ä–∏—á–∏–Ω–∞", value: data.reason },
                        { name: "üìÖ –î–∞—Ç–∞/–ß–∞—Å", value: data.date, inline: true },
                        { name: "üîó –í—ñ–¥–µ–æ—Ñ—ñ–∫—Å–∞—Ü—ñ—è", value: `[–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –¥–æ–∫–∞–∑–∏](${data.evidence})`, inline: true }
                    ],
                    // –î–æ–¥–∞—î–º–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∫–∞—Ä—Ç–∏–Ω–∫—É, —â–æ–± –≤–æ–Ω–∞ –≤—ñ–¥–æ–±—Ä–∞–∑–∏–ª–∞—Å—å —É Embed
                    image: { url: data.evidence }, 
                    footer: { text: "Electronic Police System v3.1 (URL mode)" },
                    timestamp: new Date().toISOString()
                }]
            };

            try {
                const response = await fetch(DISCORD_WEBHOOK_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(embedPayload)
                });

                if (response.ok) {
                    showNotification('–ü—Ä–æ—Ç–æ–∫–æ–ª —É—Å–ø—ñ—à–Ω–æ –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ!', 'success');
                    form.reset();
                } else {
                    // –Ø–∫—â–æ Discord –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–≤ 'OK', –≤–∏–≤–æ–¥–∏–º–æ –ø–æ–º–∏–ª–∫—É
                    const errorText = await response.text();
                    console.error("Discord Error Details:", errorText);
                    throw new Error(`Discord returned status ${response.status}`);
                }
            } catch (error) {
                console.error("Webhook Error:", error);
                showNotification('–ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏. Webhook URL –Ω–µ–¥—ñ–π—Å–Ω–∏–π –∞–±–æ Discord –º–∞—î –ø—Ä–æ–±–ª–µ–º–∏.', 'error');
            } finally {
                btn.disabled = false;
                btn.innerText = '–ó–∞—Ñ—ñ–∫—Å—É–≤–∞—Ç–∏ —à—Ç—Ä–∞—Ñ';
            }
        });
    </script>
</body>
</html>
